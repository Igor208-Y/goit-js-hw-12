import{i as p,S as M,a as $}from"./assets/vendor-CMSP9hSB.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))l(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&l(i)}).observe(document,{childList:!0,subtree:!0});function n(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(e){if(e.ep)return;e.ep=!0;const o=n(e);fetch(e.href,o)}})();const h="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M2.20164%2018.4695L10.1643%204.00506C10.9021%202.66498%2013.0979%202.66498%2013.8357%204.00506L21.7984%2018.4695C22.4443%2019.6428%2021.4598%2021%2019.9627%2021H4.0373C2.54022%2021%201.55571%2019.6428%202.20164%2018.4695Z'%20stroke='%23000000'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M12%209V13'%20stroke='%23000000'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M12%2017.0195V17'%20stroke='%23000000'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",y=document.querySelector(".gallery"),C=document.querySelector(".load"),b=document.querySelector(".add-more-button"),P={messageColor:"#FAFAFB",messageSize:"16px",backgroundColor:"#EF4040",iconUrl:h,transitionIn:"bounceInLeft",position:"topRight",displayMode:"replace",closeOnClick:!0};function w(t){t.insertAdjacentHTML("beforeend",'<p class="loading-text">Wait, the image is loaded</p><span class="loader"></span>'),b.classList.add("hide")}function a(t){const r=t.querySelector(".loading-text"),n=t.querySelector(".loader");r&&r.remove(),n&&n.remove(),b.classList.remove("hide")}function F(t){const{hits:r}=t;if(r.length===0){p.show({...P,message:"Sorry, there are no images matching your search query. Please, try again!"}),y.innerHTML="";return}const n=r.map(e=>`<li class='gallery__item'>
        <a class='gallery__link' href="${e.largeImageURL}">
        <img class='gallery__img' src="${e.webformatURL}" alt="${e.tags}" />
          <div class="grid">
            <p>Likes</p>
            <p>Views</p>
            <p>Comments</p>
            <p>Downloads</p>
            <span>${e.likes}</span>
            <span>${e.views}</span>
            <span>${e.comments}</span>
            <span>${e.downloads}</span>
          </div>
        </a>
      </li>`).join("");a(C),y.insertAdjacentHTML("beforeend",n),new M(".gallery a",{captionsData:"alt",captionDelay:250}).refresh()}const m=document.querySelector(".gallery"),d=document.querySelector(".load"),u=document.querySelector(".add-more-button"),L={messageColor:"#FAFAFB",messageSize:"16px",backgroundColor:"#EF4040",iconUrl:h,transitionIn:"bounceInLeft",position:"topRight",displayMode:"replace",closeOnClick:!0};let s=1,S=40;function I(){s=1}function O(){s+=1}function A(t){a(t),u.classList.add("hide");const r=t.querySelector(".loading-text");r&&r.remove(),t.insertAdjacentHTML("beforeend",`<p class="loading-text">We're sorry, but you've reached the end of search results.</p>`)}async function v(t){const r="48927114-800727f947c08d044ecb8ca31",n=encodeURIComponent(t);s===1&&(m.innerHTML="",u.classList.remove("hide"));const e=`https://pixabay.com/api/?${new URLSearchParams({key:r,q:n,image_type:"photo",orientation:"horizontal",safesearch:"true",page:s,per_page:S})}`;try{const{data:o}=await $.get(e),{hits:i,totalHits:k}=o;if(i.length===0){m.innerHTML="",a(d),u.classList.add("hide"),p.show({...L,message:"Sorry, there are no images matching your search query. Please, try again!"});return}if(F(o),a(d),k<s*S){A(d);return}if(s>=2){const f=document.querySelector(".gallery__item:last-child");if(f){const q=f.getBoundingClientRect();window.scrollBy({top:q.height*2,behavior:"smooth"})}}}catch(o){console.error(o),m.innerHTML="",a(d),u.classList.add("hide"),p.show({...L,message:"Sorry, an error happened. Try again"})}}const R=document.querySelector(".gallery"),g=document.querySelector(".load"),x=document.querySelector(".add-more-button"),T=document.querySelector(".form"),_=document.querySelector(".user-input");let c="";const H={messageColor:"#FAFAFB",messageSize:"16px",backgroundColor:"#EF4040",iconUrl:h,transitionIn:"bounceInLeft",position:"topRight",displayMode:"replace",closeOnClick:!0};T.addEventListener("submit",t=>{if(t.preventDefault(),c=_.value.trim(),!c){p.show({...H,message:"Please enter the search query"});return}R.innerHTML="",I(),a(g),w(g),x.classList.remove("hide"),v(c)});x.addEventListener("click",()=>{c&&(O(),w(g),v(c))});
//# sourceMappingURL=index.js.map
