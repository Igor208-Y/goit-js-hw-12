import{i as u,S as v,a as k}from"./assets/vendor-CMSP9hSB.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))c(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&c(s)}).observe(document,{childList:!0,subtree:!0});function n(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function c(e){if(e.ep)return;e.ep=!0;const o=n(e);fetch(e.href,o)}})();const p="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M2.20164%2018.4695L10.1643%204.00506C10.9021%202.66498%2013.0979%202.66498%2013.8357%204.00506L21.7984%2018.4695C22.4443%2019.6428%2021.4598%2021%2019.9627%2021H4.0373C2.54022%2021%201.55571%2019.6428%202.20164%2018.4695Z'%20stroke='%23000000'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M12%209V13'%20stroke='%23000000'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M12%2017.0195V17'%20stroke='%23000000'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",m=document.querySelector(".gallery"),x=document.querySelector(".load"),h=document.querySelector(".add-more-button"),q={messageColor:"#FAFAFB",messageSize:"16px",backgroundColor:"#EF4040",iconUrl:p,transitionIn:"bounceInLeft",position:"topRight",displayMode:"replace",closeOnClick:!0};function y(t){t.insertAdjacentHTML("beforeend",'<p class="loading-text">Wait, the image is loaded</p><span class="loader"></span>'),h.classList.add("hide")}function d(t){const r=t.querySelector(".loading-text"),n=t.querySelector(".loader");r&&r.remove(),n&&n.remove(),h.classList.remove("hide")}function M(t){const{hits:r}=t;if(r.length===0){u.show({...q,message:"Sorry, there are no images matching your search query. Please, try again!"}),m.innerHTML="";return}const n=r.map(e=>`<li class='gallery__item'>
        <a class='gallery__link' href="${e.largeImageURL}">
        <img class='gallery__img' src="${e.webformatURL}" alt="${e.tags}" />
          <div class="grid">
            <p>Likes</p>
            <p>Views</p>
            <p>Comment</p>
            <p>Downloads</p>
            <span>${e.likes}</span>
            <span>${e.views}</span>
            <span>${e.comments}</span>
            <span>${e.downloads}</span>
          </div>
        </a>
      </li>`).join(" ");d(x),m.insertAdjacentHTML("beforeend",n),new v(".gallery a",{captionsData:"alt",captionDelay:250}).refresh()}const g=document.querySelector(".gallery"),l=document.querySelector(".load"),L=document.querySelector(".add-more-button"),$={messageColor:"#FAFAFB",messageSize:"16px",backgroundColor:"#EF4040",iconUrl:p,transitionIn:"bounceInLeft",position:"topRight",displayMode:"replace",closeOnClick:!0};let i=1,f=40;function C(){i=1}function F(){i+=1}function O(t){d(t),t.insertAdjacentHTML("beforeend",`<p class="loading-text">We're sorry, but you've reached the end of search results .</p>`),L.classList.add("hide")}async function b(t){const r="48927114-800727f947c08d044ecb8ca31",n=encodeURIComponent(t);i===1&&(g.innerHTML="");const e=`https://pixabay.com/api/?${new URLSearchParams({key:r,q:n,image_type:"photo",orientation:"horizontal",safesearch:"true",page:i,per_page:f})}`;try{const{data:o}=await k.get(e);if(M(o),d(l),o.totalHits<i*f){O(l);return}if(i>=2){const s=document.querySelector(".gallery__item");if(s){const w=s.getBoundingClientRect();window.scrollBy({top:w.height*2,behavior:"smooth"})}}}catch(o){console.error(o),g.innerHTML="",l.innerHTML="",d(l),L.classList.add("hide"),u.show({...$,message:"Sorry, an error happened. Try again"});return}}const P=document.querySelector(".gallery"),S=document.querySelector(".load"),I=document.querySelector(".add-more-button"),A=document.querySelector(".form"),R=document.querySelector(".user-input");let a="";const T={messageColor:"#FAFAFB",messageSize:"16px",backgroundColor:"#EF4040",iconUrl:p,transitionIn:"bounceInLeft",position:"topRight",displayMode:"replace",closeOnClick:!0};A.addEventListener("submit",t=>{if(t.preventDefault(),a=R.value.trim(),!a){u.show({...T,message:"Please enter the search query"});return}P.innerHTML="",C(),y(S),b(a)});I.addEventListener("click",t=>{a&&(F(),y(S),b(a))});
//# sourceMappingURL=index.js.map
